<!doctype html><html lang=zh-cn><head><title>使用 Kotlin 语言实现一个归并排序算法 ::
星野玲的博客</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="上周小玲讲了快速排序算法。这周小玲来讲归并排序算法的实现。但是从这次开始不再讲 IDE 的安装和创建项目了。需要的话请看 这里。 开始编写 # 这里从创建好"><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://blog.bling.moe/post/13/><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=https://blog.bling.moe/style.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=https://blog.bling.moe/img/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=https://blog.bling.moe/img/favicon.png><link href=/fonts/Inter-Italic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-Regular.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-Medium.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-MediumItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-Bold.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-BoldItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><meta name=twitter:card content="summary"><meta name=twitter:title content="使用 Kotlin 语言实现一个归并排序算法"><meta name=twitter:description content="上周小玲讲了快速排序算法。这周小玲来将归并排序算法的实现。"><meta property="og:title" content="使用 Kotlin 语言实现一个归并排序算法"><meta property="og:description" content="上周小玲讲了快速排序算法。这周小玲来将归并排序算法的实现。"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.bling.moe/post/13/"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-01-15T00:00:00+08:00"><meta property="article:modified_time" content="2021-11-18T14:08:07+08:00"><meta property="og:site_name" content="星野玲的博客"></head><body class=dark-theme><div class=container><header class=header><span class=header__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg></span><span class=logo__text>星野玲的博客</span>
<span class=logo__cursor></span></a>
<span class=header__right><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/index.xml>RSS</a></li><li><a href=/about/>关于</a></li><li><a href=/links/>友链</a></li><ul class=menu__sub-inner><li class=menu__sub-inner-more-trigger>查看更多
<span class=menu__sub-inner-more-trigger-icon><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg></span></li><ul class="menu__sub-inner-more hidden"><li><a href=https://digital-garden.bling.moe>数字花园</a></li></ul></ul></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/index.xml>RSS</a></li><li><a href=/about/>关于</a></li><li><a href=/links/>友链</a></li><li><a href=https://digital-garden.bling.moe>数字花园</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class=theme-toggle><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><article class=post><h1 class=post-title>使用 Kotlin 语言实现一个归并排序算法</h1><div class=post-meta><time class=post-date>2023-01-15</time>
<span class=post-author>— 作者： 星野玲</span></div><span class=post-tags><a href=https://blog.bling.moe/tags/kotlin/>#Kotlin</a>&nbsp;
<a href=https://blog.bling.moe/tags/%E7%AE%97%E6%B3%95/>#算法</a>&nbsp;</span><div class=post-content><p>上周小玲讲了快速排序算法。这周小玲来讲归并排序算法的实现。但是从这次开始不再讲 IDE 的安装和创建项目了。需要的话请看 <a href=https://blog.bling.moe/post/12/#安装-intellij-idea>这里</a>。</p><h2 id=开始编写>开始编写
<a href=#%e5%bc%80%e5%a7%8b%e7%bc%96%e5%86%99 class=h-anchor aria-hidden=true>#</a></h2><p>这里从创建好了项目开始。首先写出归并排序函数的大概框架。它的函数名为 <code>mergeSort</code>，接收一个类型为 <code>List&lt;Double></code>、名称为 list 的形参，返回值类型为 <code>List&lt;Double></code>。注意它的返回值永远都是已经排好序的 <code>List</code>。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>mergeSort</span>(list: List&lt;Double&gt;): List&lt;Double&gt; {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>归并排序算法和快速排序算法一样是采用递归加分治的方法来写的。判断小于或等于 1 的原因和快速排序算法一样，小玲就不再赘述了。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>mergeSort</span>(list: List&lt;Double&gt;): List&lt;Double&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>if</span> (list.size <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>        list
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><code>if</code> 语句的 <code>else</code> 块里就像写快速排序算法一样写递归和分治的代码。</p><p>首先咱们需要把这个长度大于 1 的 list，从中间分成两个部分——<code>leftList</code> 和 <code>rightList</code>。</p><p>如果这个长度大于 1 的 list 的长度是偶数，<code>leftList</code> 和 <code>rightList</code> 的长度就是相等的。</p><p>如果这个长度大于 1 的 list 的长度是奇数，<code>leftList</code> 将比 <code>rightList</code> 多一个元素。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>mergeSort</span>(list: List&lt;Double&gt;): List&lt;Double&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>if</span> (list.size <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>        list
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> middleIndex = <span style=color:#66d9ef>if</span> (list.size % <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) list.size / <span style=color:#ae81ff>2</span> <span style=color:#66d9ef>else</span> list.size / <span style=color:#ae81ff>2</span> + <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> leftList = list.subList(<span style=color:#ae81ff>0</span>, middleIndex)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> rightList = list.subList(middleIndex, list.size)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>然后分别对 <code>leftList</code> 和 <code>rightList</code> 递归调用这个函数本身。调用后的返回值分别赋给 <code>sortedLeftList</code> 和 <code>sortedRightLeft</code>。因为 <code>mergeSort</code> 函数的返回值永远都是已经排好序的 <code>List</code>。所以现在咱们默认 <code>sortedLeftList</code> 和 <code>sortedRightList</code> 是已经排好序的 <code>List</code>。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>mergeSort</span>(list: List&lt;Double&gt;): List&lt;Double&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>if</span> (list.size <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>        list
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> middleIndex = <span style=color:#66d9ef>if</span> (list.size % <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) list.size / <span style=color:#ae81ff>2</span> <span style=color:#66d9ef>else</span> list.size / <span style=color:#ae81ff>2</span> + <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> leftList = list.subList(<span style=color:#ae81ff>0</span>, middleIndex)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> rightList = list.subList(middleIndex, list.size)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> sortedLeftList = mergeSort(leftList)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> sortedRightList = mergeSort(rightList)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>现在咱们来编写将两个已经排好序的 list 合并成一个已经排好序的 list 的代码。</p><p>定义一个可变的 list 并将它赋值给变量 <code>sortedList</code>。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>mergeSort</span>(list: List&lt;Double&gt;): List&lt;Double&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>if</span> (list.size <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>        list
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> middleIndex = <span style=color:#66d9ef>if</span> (list.size % <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) list.size / <span style=color:#ae81ff>2</span> <span style=color:#66d9ef>else</span> list.size / <span style=color:#ae81ff>2</span> + <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> leftList = list.subList(<span style=color:#ae81ff>0</span>, middleIndex)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> rightList = list.subList(middleIndex, list.size)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> sortedLeftList = mergeSort(leftList)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> sortedRightList = mergeSort(rightList)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> sortedList = mutableListOf&lt;Double&gt;()
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>定义变量 <code>tempIndexInSortedLeftList</code> 和 <code>tempIndexInSortedRightList</code>，并将它们的初始值设为 0，这两个变量是用于接下来的 while 循环的。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>mergeSort</span>(list: List&lt;Double&gt;): List&lt;Double&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>if</span> (list.size <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>        list
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> middleIndex = <span style=color:#66d9ef>if</span> (list.size % <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) list.size / <span style=color:#ae81ff>2</span> <span style=color:#66d9ef>else</span> list.size / <span style=color:#ae81ff>2</span> + <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> leftList = list.subList(<span style=color:#ae81ff>0</span>, middleIndex)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> rightList = list.subList(middleIndex, list.size)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> sortedLeftList = mergeSort(leftList)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> sortedRightList = mergeSort(rightList)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> sortedList = mutableListOf&lt;Double&gt;()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> tempIndexInSortedLeftList = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> tempIndexInSortedRightList = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>接下来咱们写一个 while 循环来遍历 <code>sortedLeftList</code> 和 <code>sortedRightList</code>。这个 while 循环的作用是把 <code>sortedLeftList</code> 和 <code>sortedRightList</code> 合并成一个已经排好序的 list——<code>sortedList</code>。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>mergeSort</span>(list: List&lt;Double&gt;): List&lt;Double&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>if</span> (list.size <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>        list
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> middleIndex = <span style=color:#66d9ef>if</span> (list.size % <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) list.size / <span style=color:#ae81ff>2</span> <span style=color:#66d9ef>else</span> list.size / <span style=color:#ae81ff>2</span> + <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> leftList = list.subList(<span style=color:#ae81ff>0</span>, middleIndex)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> rightList = list.subList(middleIndex, list.size)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> sortedLeftList = mergeSort(leftList)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> sortedRightList = mergeSort(rightList)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> sortedList = mutableListOf&lt;Double&gt;()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> tempIndexInSortedLeftList = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> tempIndexInSortedRightList = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (tempIndexInSortedLeftList &lt; sortedLeftList.size <span style=color:#f92672>||</span> tempIndexInSortedRightList &lt; sortedRightList.size) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (tempIndexInSortedLeftList <span style=color:#f92672>==</span> sortedLeftList.size) {
</span></span><span style=display:flex><span>                sortedList.add(sortedRightList[tempIndexInSortedRightList<span style=color:#f92672>++</span>])
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (tempIndexInSortedRightList <span style=color:#f92672>==</span> sortedRightList.size){
</span></span><span style=display:flex><span>                sortedList.add(sortedLeftList[tempIndexInSortedLeftList<span style=color:#f92672>++</span>])
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (sortedLeftList[tempIndexInSortedLeftList] &lt; sortedRightList[tempIndexInSortedRightList]) {
</span></span><span style=display:flex><span>                sortedList.add(sortedLeftList[tempIndexInSortedLeftList<span style=color:#f92672>++</span>])
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                sortedList.add(sortedRightList[tempIndexInSortedRightList<span style=color:#f92672>++</span>])
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>最后，返回 <code>sortedList</code>。到此为止，咱们的函数就写完啦。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>mergeSort</span>(list: List&lt;Double&gt;): List&lt;Double&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>if</span> (list.size <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>        list
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> middleIndex = <span style=color:#66d9ef>if</span> (list.size % <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) list.size / <span style=color:#ae81ff>2</span> <span style=color:#66d9ef>else</span> list.size / <span style=color:#ae81ff>2</span> + <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> leftList = list.subList(<span style=color:#ae81ff>0</span>, middleIndex)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> rightList = list.subList(middleIndex, list.size)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> sortedLeftList = mergeSort(leftList)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> sortedRightList = mergeSort(rightList)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> sortedList = mutableListOf&lt;Double&gt;()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> tempIndexInSortedLeftList = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> tempIndexInSortedRightList = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (tempIndexInSortedLeftList &lt; sortedLeftList.size <span style=color:#f92672>||</span> tempIndexInSortedRightList &lt; sortedRightList.size) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (tempIndexInSortedLeftList <span style=color:#f92672>==</span> sortedLeftList.size) {
</span></span><span style=display:flex><span>                sortedList.add(sortedRightList[tempIndexInSortedRightList<span style=color:#f92672>++</span>])
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (tempIndexInSortedRightList <span style=color:#f92672>==</span> sortedRightList.size){
</span></span><span style=display:flex><span>                sortedList.add(sortedLeftList[tempIndexInSortedLeftList<span style=color:#f92672>++</span>])
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (sortedLeftList[tempIndexInSortedLeftList] &lt; sortedRightList[tempIndexInSortedRightList]) {
</span></span><span style=display:flex><span>                sortedList.add(sortedLeftList[tempIndexInSortedLeftList<span style=color:#f92672>++</span>])
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                sortedList.add(sortedRightList[tempIndexInSortedRightList<span style=color:#f92672>++</span>])
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        sortedList
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=测试>测试
<a href=#%e6%b5%8b%e8%af%95 class=h-anchor aria-hidden=true>#</a></h2><p>写完了以后，咱们来测试一下吧。</p><p>下面是最终的 <code>Main.kt</code> 文件。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>import</span> kotlin.math.roundToInt
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> kotlin.random.Random
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> kotlin.system.getTimeMillis
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>val</span> list = mutableListOf&lt;Double&gt;()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>val</span> random = Random(getTimeMillis())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (i <span style=color:#66d9ef>in</span> <span style=color:#ae81ff>0.</span>.<span style=color:#ae81ff>9</span>) {
</span></span><span style=display:flex><span>        list.add((random.nextDouble(<span style=color:#ae81ff>1.0</span>, <span style=color:#ae81ff>100.0</span>) * <span style=color:#ae81ff>10</span>).roundToInt() / <span style=color:#ae81ff>10.0</span> )
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;Original list is </span><span style=color:#e6db74>$list</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;Sorted list from mergeSort is </span><span style=color:#e6db74>${mergeSort(list)}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>mergeSort</span>(list: List&lt;Double&gt;): List&lt;Double&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>if</span> (list.size <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>        list
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> middleIndex = <span style=color:#66d9ef>if</span> (list.size % <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) list.size / <span style=color:#ae81ff>2</span> <span style=color:#66d9ef>else</span> list.size / <span style=color:#ae81ff>2</span> + <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> leftList = list.subList(<span style=color:#ae81ff>0</span>, middleIndex)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> rightList = list.subList(middleIndex, list.size)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> sortedLeftList = mergeSort(leftList)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> sortedRightList = mergeSort(rightList)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>val</span> sortedList = mutableListOf&lt;Double&gt;()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> tempIndexInSortedLeftList = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> tempIndexInSortedRightList = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (tempIndexInSortedLeftList &lt; sortedLeftList.size <span style=color:#f92672>||</span> tempIndexInSortedRightList &lt; sortedRightList.size) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (tempIndexInSortedLeftList <span style=color:#f92672>==</span> sortedLeftList.size) {
</span></span><span style=display:flex><span>                sortedList.add(sortedRightList[tempIndexInSortedRightList<span style=color:#f92672>++</span>])
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (tempIndexInSortedRightList <span style=color:#f92672>==</span> sortedRightList.size){
</span></span><span style=display:flex><span>                sortedList.add(sortedLeftList[tempIndexInSortedLeftList<span style=color:#f92672>++</span>])
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (sortedLeftList[tempIndexInSortedLeftList] &lt; sortedRightList[tempIndexInSortedRightList]) {
</span></span><span style=display:flex><span>                sortedList.add(sortedLeftList[tempIndexInSortedLeftList<span style=color:#f92672>++</span>])
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                sortedList.add(sortedRightList[tempIndexInSortedRightList<span style=color:#f92672>++</span>])
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        sortedList
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>执行结果，很完美地从小到大排序了。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span>Original list <span style=color:#66d9ef>is</span> [<span style=color:#ae81ff>4.9</span>, <span style=color:#ae81ff>91.0</span>, <span style=color:#ae81ff>41.9</span>, <span style=color:#ae81ff>34.5</span>, <span style=color:#ae81ff>49.5</span>, <span style=color:#ae81ff>16.6</span>, <span style=color:#ae81ff>9.7</span>, <span style=color:#ae81ff>93.5</span>, <span style=color:#ae81ff>84.9</span>, <span style=color:#ae81ff>63.3</span>]
</span></span><span style=display:flex><span>Sorted list from mergeSort <span style=color:#66d9ef>is</span> [<span style=color:#ae81ff>4.9</span>, <span style=color:#ae81ff>9.7</span>, <span style=color:#ae81ff>16.6</span>, <span style=color:#ae81ff>34.5</span>, <span style=color:#ae81ff>41.9</span>, <span style=color:#ae81ff>49.5</span>, <span style=color:#ae81ff>63.3</span>, <span style=color:#ae81ff>84.9</span>, <span style=color:#ae81ff>91.0</span>, <span style=color:#ae81ff>93.5</span>]
</span></span></code></pre></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>阅读其它文章</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://blog.bling.moe/post/14/><span class=button__icon>←</span>
<span class=button__text>Docker 下的 Traefik 上手教程</span></a></span>
<span class="button next"><a href=https://blog.bling.moe/post/12/><span class=button__text>使用 Kotlin 语言实现一个快速排序算法</span>
<span class=button__icon>→</span></a></span></div></div><script src=https://giscus.app/client.js data-repo=HoshinoRei/blog data-repo-id=R_kgDOGZbNzw data-category=General data-category-id=DIC_kwDOGZbNz84CPgAu data-mapping=pathname data-reactions-enabled=1 data-emit-metadata=1 data-input-position=bottom data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script></article></div><footer class=footer><div class=footer__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg></span><span class=logo__text>星野玲的博客</span>
<span class=logo__cursor></span></a><div class=copyright><span>© 2025 Powered by <a href=https://gohugo.io target=_blank rel=noopener>Hugo</a></span>
<span><a href=https://github.com/panr/hugo-theme-hello-friend target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script></div><script async src="https://www.googletagmanager.com/gtag/js?id=G-E6TTBX28QL"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-E6TTBX28QL",{anonymize_ip:!1})}</script></body></html>